<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 9.1: El Diario Digital Personal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 40px;
            animation: fadeInDown 1s ease-out;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            font-family: 'Georgia', serif;
            font-style: italic;
        }
        
        .header p {
            font-size: 1.3em;
            color: #34495e;
        }
        
        .slide {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            animation: slideIn 0.8s ease-out;
            border: 1px solid #e1e8ed;
        }
        
        .slide h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        
        .slide h3 {
            color: #34495e;
            margin: 20px 0 15px 0;
            font-size: 1.5em;
        }
        
        .objetivo {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .teoria {
            background: #ecf0f1;
            border-left: 5px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .teoria h4 {
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .archivo-visual {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .archivo-visual::before {
            content: "📄 mi_diario.txt";
            position: absolute;
            top: -10px;
            left: 20px;
            background: #e74c3c;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.9em;
        }
        
        .entrada-diario {
            background: #fff9e6;
            border-left: 4px solid #f39c12;
            padding: 15px;
            margin: 10px 0;
            font-style: italic;
            border-radius: 0 5px 5px 0;
        }
        
        .codigo-ejemplo {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 1.05em;
            line-height: 1.8;
            position: relative;
        }
        
        .codigo-ejemplo::before {
            content: "Python";
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .comment {
            color: #6A9955;
            font-style: italic;
        }
        
        .string {
            color: #CE9178;
        }
        
        .keyword {
            color: #C586C0;
        }
        
        .function {
            color: #DCDCAA;
        }
        
        .variable {
            color: #9CDCFE;
        }
        
        .with-keyword {
            color: #C586C0;
            font-weight: bold;
        }
        
        .modo-archivo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .modo-card {
            background: #3498db;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .modo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(52,152,219,0.3);
        }
        
        .modo-card h5 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        
        .modo-card code {
            background: rgba(255,255,255,0.2);
            padding: 2px 8px;
            border-radius: 3px;
            font-family: monospace;
        }
        
        .paso {
            background: #e8f6f3;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border: 2px solid #27ae60;
            position: relative;
            padding-left: 70px;
        }
        
        .paso::before {
            content: attr(data-paso);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #27ae60;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .flujo-archivo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .flujo-paso {
            background: #ecf0f1;
            border: 2px solid #3498db;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .flujo-flecha {
            font-size: 2em;
            color: #3498db;
        }
        
        .comparacion-tabla {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .comparacion-tabla th {
            background: #34495e;
            color: white;
            padding: 15px;
            text-align: left;
        }
        
        .comparacion-tabla td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .comparacion-tabla tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .tip {
            background: #fff9c4;
            border: 2px solid #f1c40f;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            padding-left: 60px;
        }
        
        .tip::before {
            content: "💡";
            position: absolute;
            left: 15px;
            top: 20px;
            font-size: 2em;
        }
        
        .warning {
            background: #ffe5e5;
            border: 2px solid #e74c3c;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            padding-left: 60px;
        }
        
        .warning::before {
            content: "⚠️";
            position: absolute;
            left: 15px;
            top: 20px;
            font-size: 2em;
        }
        
        .ejercicio-propuesto {
            background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .menu-ejemplo {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            font-family: monospace;
            margin: 15px 0;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📔 El Diario Digital Personal</h1>
            <p>Módulo 9: Archivos y Entrada/Salida - Ejercicio 9.1
</div>

        <div class="slide">
            <h2>📎 Información del Ejercicio</h2>
            
            <div class="objetivo">
                <strong>🎯 Objetivo:</strong> Aprender a leer y escribir archivos de texto en Python creando un diario digital personal. Los estudiantes comprenderán cómo manejar archivos de forma segura, trabajar con fechas y horas, y crear aplicaciones que persistan datos más allá de la ejecución del programa.
            </div>

            <h3>🧠 ¿Por qué Manejar Archivos?</h3>
            
            <div class="teoria">
                <h4>La Importancia de la Persistencia de Datos</h4>
                <p>Hasta ahora, todos nuestros programas pierden los datos cuando terminan. Con archivos podemos:</p>
                <ul>
                    <li>💾 <strong>Guardar información permanentemente</strong></li>
                    <li>📖 <strong>Leer datos de sesiones anteriores</strong></li>
                    <li>📊 <strong>Compartir información entre programas</strong></li>
                    <li>🔄 <strong>Crear backups y registros históricos</strong></li>
                </ul>
            </div>

            <div class="flujo-archivo">
                <div class="flujo-paso">Programa</div>
                <div class="flujo-flecha">→</div>
                <div class="flujo-paso" style="background: #3498db; color: white;">Escribir</div>
                <div class="flujo-flecha">→</div>
                <div class="flujo-paso">Archivo.txt</div>
                <div class="flujo-flecha">→</div>
                <div class="flujo-paso" style="background: #27ae60; color: white;">Leer</div>
                <div class="flujo-flecha">→</div>
                <div class="flujo-paso">Programa</div>
            </div>

            <div class="modo-archivo">
                <div class="modo-card">
                    <h5>📖 'r'</h5>
                    <p><strong>Read (Leer)</strong></p>
                    <p>Solo lectura</p>
                    <p>Error si no existe</p>
                </div>
                <div class="modo-card" style="background: #27ae60;">
                    <h5>✍️ 'w'</h5>
                    <p><strong>Write (Escribir)</strong></p>
                    <p>Crea o sobrescribe</p>
                    <p>¡Borra contenido previo!</p>
                </div>
                <div class="modo-card" style="background: #f39c12;">
                    <h5>➕ 'a'</h5>
                    <p><strong>Append (Añadir)</strong></p>
                    <p>Agrega al final</p>
                    <p>Preserva contenido</p>
                </div>
                <div class="modo-card" style="background: #9b59b6;">
                    <h5>🔄 'r+'</h5>
                    <p><strong>Read/Write</strong></p>
                    <p>Lectura y escritura</p>
                    <p>Debe existir</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>🔧 Manejo Seguro de Archivos</h2>
            
            <div class="teoria">
                <h4>El Problema: Archivos Abiertos</h4>
                <p>Cuando abrimos un archivo, Python reserva recursos del sistema. Si no lo cerramos correctamente:</p>
                <ul>
                    <li>❌ Pérdida de datos (no se guardan los cambios)</li>
                    <li>❌ Archivos bloqueados para otros programas</li>
                    <li>❌ Desperdicio de memoria</li>
                    <li>❌ Posibles errores en el sistema</li>
                </ul>
            </div>

            <div class="teoria">
                <h4>La Solución: Contexto 'with'</h4>
                <p>Python proporciona una forma elegante y segura de manejar archivos:</p>
                
                <div class="codigo-ejemplo">
<span class="comment"># ❌ Forma antigua (peligrosa)</span>
<span class="variable">archivo</span> = <span class="function">open</span>(<span class="string">"datos.txt"</span>, <span class="string">"r"</span>)
<span class="variable">contenido</span> = <span class="variable">archivo</span>.<span class="function">read</span>()
<span class="variable">archivo</span>.<span class="function">close</span>()  <span class="comment"># Si hay error antes, nunca se cierra!</span>

<span class="comment"># ✅ Forma moderna (segura)</span>
<span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"datos.txt"</span>, <span class="string">"r"</span>) <span class="keyword">as</span> <span class="variable">archivo</span>:
    <span class="variable">contenido</span> = <span class="variable">archivo</span>.<span class="function">read</span>()
<span class="comment"># El archivo se cierra automáticamente, incluso si hay errores</span>
                </div>
            </div>

            <table class="comparacion-tabla">
                <thead>
                    <tr>
                        <th>Método</th>
                        <th>Descripción</th>
                        <th>Ejemplo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>read()</code></td>
                        <td>Lee todo el archivo</td>
                        <td><code>contenido = archivo.read()</code></td>
                    </tr>
                    <tr>
                        <td><code>readline()</code></td>
                        <td>Lee una línea</td>
                        <td><code>linea = archivo.readline()</code></td>
                    </tr>
                    <tr>
                        <td><code>readlines()</code></td>
                        <td>Lee todas las líneas en lista</td>
                        <td><code>lineas = archivo.readlines()</code></td>
                    </tr>
                    <tr>
                        <td><code>write()</code></td>
                        <td>Escribe texto</td>
                        <td><code>archivo.write("Hola")</code></td>
                    </tr>
                    <tr>
                        <td><code>writelines()</code></td>
                        <td>Escribe lista de líneas</td>
                        <td><code>archivo.writelines(lista)</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="slide">
            <h2>👨‍💻 Desarrollo Paso a Paso</h2>

            <div class="paso" data-paso="1">
                <h4>Importar módulos necesarios y crear función básica</h4>
                <p>Comenzamos importando datetime para manejar fechas:</p>
                <div class="codigo-ejemplo">
<span class="keyword">import</span> datetime
<span class="keyword">import</span> os

<span class="keyword">def</span> <span class="function">escribir_entrada</span>():
    <span class="string">"""Permite al usuario escribir una nueva entrada en el diario"""</span>
    <span class="comment"># Obtener fecha y hora actual</span>
    <span class="variable">ahora</span> = datetime.datetime.<span class="function">now</span>()
    <span class="variable">fecha_hora</span> = <span class="variable">ahora</span>.<span class="function">strftime</span>(<span class="string">"%Y-%m-%d %H:%M"</span>)
    
    <span class="comment"># Solicitar entrada al usuario</span>
    <span class="function">print</span>(<span class="string">"\n📝 NUEVA ENTRADA DE DIARIO"</span>)
    <span class="function">print</span>(<span class="string">f"Fecha: {fecha_hora}"</span>)
    <span class="function">print</span>(<span class="string">"-"</span> * <span class="number">40</span>)
    
    <span class="variable">entrada</span> = <span class="function">input</span>(<span class="string">"¿Qué pasó hoy? "</span>)
    
    <span class="comment"># Escribir en el archivo</span>
    <span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"mi_diario.txt"</span>, <span class="string">"a"</span>, <span class="variable">encoding</span>=<span class="string">"utf-8"</span>) <span class="keyword">as</span> <span class="variable">archivo</span>:
        <span class="variable">archivo</span>.<span class="function">write</span>(<span class="string">f"\n{'='*50}\n"</span>)
        <span class="variable">archivo</span>.<span class="function">write</span>(<span class="string">f"📅 {fecha_hora}\n"</span>)
        <span class="variable">archivo</span>.<span class="function">write</span>(<span class="string">f"{entrada}\n"</span>)
    
    <span class="function">print</span>(<span class="string">"✅ Entrada guardada exitosamente!"</span>)
                </div>
            </div>

            <div class="paso" data-paso="2">
                <h4>Crear función para leer el diario</h4>
                <p>Función que muestra todas las entradas anteriores:</p>
                <div class="codigo-ejemplo">
<span class="keyword">def</span> <span class="function">leer_diario</span>():
    <span class="string">"""Lee y muestra todas las entradas del diario"""</span>
    <span class="keyword">try</span>:
        <span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"mi_diario.txt"</span>, <span class="string">"r"</span>, <span class="variable">encoding</span>=<span class="string">"utf-8"</span>) <span class="keyword">as</span> <span class="variable">archivo</span>:
            <span class="variable">contenido</span> = <span class="variable">archivo</span>.<span class="function">read</span>()
            
        <span class="keyword">if</span> <span class="variable">contenido</span>.<span class="function">strip</span>():
            <span class="function">print</span>(<span class="string">"\n📖 TU DIARIO PERSONAL 📖"</span>)
            <span class="function">print</span>(<span class="variable">contenido</span>)
        <span class="keyword">else</span>:
            <span class="function">print</span>(<span class="string">"\n📭 Tu diario está vacío. ¡Escribe tu primera entrada!"</span>)
            
    <span class="keyword">except</span> <span class="function">FileNotFoundError</span>:
        <span class="function">print</span>(<span class="string">"\n📭 No tienes un diario aún. ¡Crea tu primera entrada!"</span>)
                </div>
            </div>

            <div class="paso" data-paso="3">
                <h4>Agregar función de búsqueda</h4>
                <p>Permite buscar entradas por fecha o palabra clave:</p>
                <div class="codigo-ejemplo">
<span class="keyword">def</span> <span class="function">buscar_en_diario</span>():
    <span class="string">"""Busca entradas que contengan una palabra clave"""</span>
    <span class="keyword">try</span>:
        <span class="variable">palabra</span> = <span class="function">input</span>(<span class="string">"¿Qué palabra quieres buscar? "</span>).<span class="function">lower</span>()
        
        <span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"mi_diario.txt"</span>, <span class="string">"r"</span>, <span class="variable">encoding</span>=<span class="string">"utf-8"</span>) <span class="keyword">as</span> <span class="variable">archivo</span>:
            <span class="variable">lineas</span> = <span class="variable">archivo</span>.<span class="function">readlines</span>()
        
        <span class="function">print</span>(<span class="string">f"\n🔍 Buscando '{palabra}'..."</span>)
        <span class="variable">encontrado</span> = <span class="keyword">False</span>
        <span class="variable">entrada_actual</span> = []
        
        <span class="keyword">for</span> <span class="variable">linea</span> <span class="keyword">in</span> <span class="variable">lineas</span>:
            <span class="keyword">if</span> <span class="variable">linea</span>.<span class="function">startswith</span>(<span class="string">"="</span> * <span class="number">50</span>):
                <span class="comment"># Nueva entrada encontrada</span>
                <span class="keyword">if</span> <span class="variable">entrada_actual</span> <span class="keyword">and</span> <span class="keyword">any</span>(<span class="variable">palabra</span> <span class="keyword">in</span> <span class="variable">l</span>.<span class="function">lower</span>() <span class="keyword">for</span> <span class="variable">l</span> <span class="keyword">in</span> <span class="variable">entrada_actual</span>):
                    <span class="variable">encontrado</span> = <span class="keyword">True</span>
                    <span class="function">print</span>(<span class="string">"\n"</span> + <span class="string">"="</span> * <span class="number">50</span>)
                    <span class="keyword">for</span> <span class="variable">l</span> <span class="keyword">in</span> <span class="variable">entrada_actual</span>:
                        <span class="function">print</span>(<span class="variable">l</span>, <span class="variable">end</span>=<span class="string">""</span>)
                <span class="variable">entrada_actual</span> = [<span class="variable">linea</span>]
            <span class="keyword">else</span>:
                <span class="variable">entrada_actual</span>.<span class="function">append</span>(<span class="variable">linea</span>)
        
        <span class="comment"># Verificar última entrada</span>
        <span class="keyword">if</span> <span class="variable">entrada_actual</span> <span class="keyword">and</span> <span class="keyword">any</span>(<span class="variable">palabra</span> <span class="keyword">in</span> <span class="variable">l</span>.<span class="function">lower</span>() <span class="keyword">for</span> <span class="variable">l</span> <span class="keyword">in</span> <span class="variable">entrada_actual</span>):
            <span class="variable">encontrado</span> = <span class="keyword">True</span>
            <span class="function">print</span>(<span class="string">"\n"</span> + <span class="string">"="</span> * <span class="number">50</span>)
            <span class="keyword">for</span> <span class="variable">l</span> <span class="keyword">in</span> <span class="variable">entrada_actual</span>:
                <span class="function">print</span>(<span class="variable">l</span>, <span class="variable">end</span>=<span class="string">""</span>)
        
        <span class="keyword">if</span> <span class="keyword">not</span> <span class="variable">encontrado</span>:
            <span class="function">print</span>(<span class="string">f"No se encontraron entradas con '{palabra}'"</span>)
            
    <span class="keyword">except</span> <span class="function">FileNotFoundError</span>:
        <span class="function">print</span>(<span class="string">"❌ No hay diario para buscar"</span>)
                </div>
            </div>

            <div class="paso" data-paso="4">
                <h4>Crear funciones adicionales y menú principal</h4>
                <div class="codigo-ejemplo">
<span class="keyword">def</span> <span class="function">estadisticas_diario</span>():
    <span class="string">"""Muestra estadísticas del diario"""</span>
    <span class="keyword">try</span>:
        <span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"mi_diario.txt"</span>, <span class="string">"r"</span>, <span class="variable">encoding</span>=<span class="string">"utf-8"</span>) <span class="keyword">as</span> <span class="variable">archivo</span>:
            <span class="variable">contenido</span> = <span class="variable">archivo</span>.<span class="function">read</span>()
            <span class="variable">lineas</span> = <span class="variable">contenido</span>.<span class="function">split</span>(<span class="string">'\n'</span>)
        
        <span class="comment"># Contar entradas</span>
        <span class="variable">num_entradas</span> = <span class="variable">contenido</span>.<span class="function">count</span>(<span class="string">"="</span> * <span class="number">50</span>)
        <span class="variable">num_palabras</span> = <span class="function">len</span>(<span class="variable">contenido</span>.<span class="function">split</span>())
        
        <span class="function">print</span>(<span class="string">"\n📊 ESTADÍSTICAS DE TU DIARIO"</span>)
        <span class="function">print</span>(<span class="string">"="</span> * <span class="number">30</span>)
        <span class="function">print</span>(<span class="string">f"📝 Total de entradas: {num_entradas}"</span>)
        <span class="function">print</span>(<span class="string">f"📖 Total de palabras: {num_palabras}"</span>)
        <span class="function">print</span>(<span class="string">f"📏 Promedio palabras/entrada: {num_palabras//num_entradas if num_entradas > 0 else 0}"</span>)
        
        <span class="comment"># Encontrar palabras más comunes</span>
        <span class="variable">palabras</span> = <span class="variable">contenido</span>.<span class="function">lower</span>().<span class="function">split</span>()
        <span class="variable">frecuencia</span> = {}
        <span class="keyword">for</span> <span class="variable">palabra</span> <span class="keyword">in</span> <span class="variable">palabras</span>:
            <span class="keyword">if</span> <span class="function">len</span>(<span class="variable">palabra</span>) > <span class="number">4</span>:  <span class="comment"># Solo palabras significativas</span>
                <span class="variable">frecuencia</span>[<span class="variable">palabra</span>] = <span class="variable">frecuencia</span>.<span class="function">get</span>(<span class="variable">palabra</span>, <span class="number">0</span>) + <span class="number">1</span>
        
        <span class="variable">top_palabras</span> = <span class="function">sorted</span>(<span class="variable">frecuencia</span>.<span class="function">items</span>(), <span class="variable">key</span>=<span class="keyword">lambda</span> <span class="variable">x</span>: <span class="variable">x</span>[<span class="number">1</span>], <span class="variable">reverse</span>=<span class="keyword">True</span>)[:<span class="number">5</span>]
        
        <span class="function">print</span>(<span class="string">"\n🔝 Palabras más frecuentes:"</span>)
        <span class="keyword">for</span> <span class="variable">palabra</span>, <span class="variable">freq</span> <span class="keyword">in</span> <span class="variable">top_palabras</span>:
            <span class="function">print</span>(<span class="string">f"  • {palabra}: {freq} veces"</span>)
            
    <span class="keyword">except</span> <span class="function">FileNotFoundError</span>:
        <span class="function">print</span>(<span class="string">"❌ No hay diario para analizar"</span>)

<span class="keyword">def</span> <span class="function">exportar_diario</span>():
    <span class="string">"""Exporta el diario con formato especial"""</span>
    <span class="keyword">try</span>:
        <span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"mi_diario.txt"</span>, <span class="string">"r"</span>, <span class="variable">encoding</span>=<span class="string">"utf-8"</span>) <span class="keyword">as</span> <span class="variable">archivo</span>:
            <span class="variable">contenido</span> = <span class="variable">archivo</span>.<span class="function">read</span>()
        
        <span class="variable">fecha_export</span> = datetime.datetime.<span class="function">now</span>().<span class="function">strftime</span>(<span class="string">"%Y%m%d_%H%M%S"</span>)
        <span class="variable">nombre_export</span> = <span class="string">f"diario_exportado_{fecha_export}.txt"</span>
        
        <span class="with-keyword">with</span> <span class="function">open</span>(<span class="variable">nombre_export</span>, <span class="string">"w"</span>, <span class="variable">encoding</span>=<span class="string">"utf-8"</span>) <span class="keyword">as</span> <span class="variable">archivo</span>:
            <span class="variable">archivo</span>.<span class="function">write</span>(<span class="string">"📔 MI DIARIO PERSONAL - EXPORTACIÓN\n"</span>)
            <span class="variable">archivo</span>.<span class="function">write</span>(<span class="string">f"Exportado el: {datetime.datetime.now().strftime('%d/%m/%Y %H:%M')}\n"</span>)
            <span class="variable">archivo</span>.<span class="function">write</span>(<span class="string">"="</span> * <span class="number">60</span> + <span class="string">"\n"</span>)
            <span class="variable">archivo</span>.<span class="function">write</span>(<span class="variable">contenido</span>)
        
        <span class="function">print</span>(<span class="string">f"✅ Diario exportado como: {nombre_export}"</span>)
        
    <span class="keyword">except</span> <span class="function">FileNotFoundError</span>:
        <span class="function">print</span>(<span class="string">"❌ No hay diario para exportar"</span>)
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>📝 Programa Completo del Diario Digital</h2>
            
            <div class="codigo-ejemplo">
<span class="keyword">import</span> datetime
<span class="keyword">import</span> os

<span class="function">print</span>(<span class="string">"📔 DIARIO DIGITAL PERSONAL 📔"</span>)
<span class="function">print</span>(<span class="string">"="</span> * <span class="number">30</span>)

<span class="comment"># [Incluir todas las funciones aquí]</span>

<span class="keyword">def</span> <span class="function">menu_principal</span>():
    <span class="string">"""Muestra el menú principal y gestiona las opciones"""</span>
    <span class="keyword">while</span> <span class="keyword">True</span>:
        <span class="function">print</span>(<span class="string">"\n📋 MENÚ PRINCIPAL"</span>)
        <span class="function">print</span>(<span class="string">"1. ✍️  Escribir nueva entrada"</span>)
        <span class="function">print</span>(<span class="string">"2. 📖 Leer diario completo"</span>)
        <span class="function">print</span>(<span class="string">"3. 🔍 Buscar en el diario"</span>)
        <span class="function">print</span>(<span class="string">"4. 📊 Ver estadísticas"</span>)
        <span class="function">print</span>(<span class="string">"5. 💾 Exportar diario"</span>)
        <span class="function">print</span>(<span class="string">"6. 🗑️  Borrar diario (¡cuidado!)"</span>)
        <span class="function">print</span>(<span class="string">"7. 🚪 Salir"</span>)
        
        <span class="variable">opcion</span> = <span class="function">input</span>(<span class="string">"\nElige una opción (1-7): "</span>)
        
        <span class="keyword">if</span> <span class="variable">opcion</span> == <span class="string">"1"</span>:
            <span class="function">escribir_entrada</span>()
            
        <span class="keyword">elif</span> <span class="variable">opcion</span> == <span class="string">"2"</span>:
            <span class="function">leer_diario</span>()
            
        <span class="keyword">elif</span> <span class="variable">opcion</span> == <span class="string">"3"</span>:
            <span class="function">buscar_en_diario</span>()
            
        <span class="keyword">elif</span> <span class="variable">opcion</span> == <span class="string">"4"</span>:
            <span class="function">estadisticas_diario</span>()
            
        <span class="keyword">elif</span> <span class="variable">opcion</span> == <span class="string">"5"</span>:
            <span class="function">exportar_diario</span>()
            
        <span class="keyword">elif</span> <span class="variable">opcion</span> == <span class="string">"6"</span>:
            <span class="variable">confirmar</span> = <span class="function">input</span>(<span class="string">"⚠️  ¿Estás seguro? (s/n): "</span>)
            <span class="keyword">if</span> <span class="variable">confirmar</span>.<span class="function">lower</span>() == <span class="string">'s'</span>:
                <span class="keyword">try</span>:
                    os.<span class="function">remove</span>(<span class="string">"mi_diario.txt"</span>)
                    <span class="function">print</span>(<span class="string">"🗑️  Diario eliminado"</span>)
                <span class="keyword">except</span> <span class="function">FileNotFoundError</span>:
                    <span class="function">print</span>(<span class="string">"No hay diario para eliminar"</span>)
                    
        <span class="keyword">elif</span> <span class="variable">opcion</span> == <span class="string">"7"</span>:
            <span class="function">print</span>(<span class="string">"\n👋 ¡Hasta luego! No olvides escribir en tu diario."</span>)
            <span class="keyword">break</span>
            
        <span class="keyword">else</span>:
            <span class="function">print</span>(<span class="string">"❌ Opción no válida"</span>)
        
        <span class="function">input</span>(<span class="string">"\n[Presiona Enter para continuar...]"</span>)

<span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:
    <span class="function">menu_principal</span>()
            </div>

            <div class="archivo-visual">
                <p>2024-11-15 14:30: Hoy aprendí a manejar archivos en Python. ¡Es increíble poder guardar información permanentemente!</p>
                <p>=================================================</p>
                <p>📅 2024-11-16 09:15</p>
                <p>Creé mi primer diario digital. Me siento como un verdadero programador.</p>
                <p>=================================================</p>
                <p>📅 2024-11-17 20:45</p>
                <p>Agregué funciones de búsqueda y estadísticas. Python es más poderoso de lo que pensaba.</p>
            </div>
        </div>

        <div class="slide">
            <h2>🔍 Características Avanzadas del Programa</h2>
            
            <div class="teoria">
                <h4>Manejo de Errores</h4>
                <p>El programa maneja graciosamente situaciones de error comunes:</p>
                
                <div class="codigo-ejemplo">
<span class="keyword">try</span>:
    <span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"archivo.txt"</span>, <span class="string">"r"</span>) <span class="keyword">as</span> <span class="variable">f</span>:
        <span class="variable">contenido</span> = <span class="variable">f</span>.<span class="function">read</span>()
<span class="keyword">except</span> <span class="function">FileNotFoundError</span>:
    <span class="function">print</span>(<span class="string">"El archivo no existe"</span>)
<span class="keyword">except</span> <span class="function">PermissionError</span>:
    <span class="function">print</span>(<span class="string">"No tienes permisos para leer este archivo"</span>)
<span class="keyword">except</span> <span class="function">UnicodeDecodeError</span>:
    <span class="function">print</span>(<span class="string">"Error al decodificar el archivo"</span>)
                </div>
            </div>

            <div class="teoria">
                <h4>Codificación UTF-8</h4>
                <p>Importante para manejar caracteres especiales y emojis:</p>
                
                <div class="codigo-ejemplo">
<span class="comment"># Sin encoding - puede fallar con acentos y emojis</span>
<span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"archivo.txt"</span>, <span class="string">"w"</span>) <span class="keyword">as</span> <span class="variable">f</span>:
    <span class="variable">f</span>.<span class="function">write</span>(<span class="string">"Año"</span>)  <span class="comment"># Puede causar error</span>

<span class="comment"># Con encoding UTF-8 - funciona con todos los caracteres</span>
<span class="with-keyword">with</span> <span class="function">open</span>(<span class="string">"archivo.txt"</span>, <span class="string">"w"</span>, <span class="variable">encoding</span>=<span class="string">"utf-8"</span>) <span class="keyword">as</span> <span class="variable">f</span>:
    <span class="variable">f</span>.<span class="function">write</span>(<span class="string">"Año 📅 ñ á é í ó ú"</span>)  <span class="comment"># Funciona perfectamente</span>
                </div>
            </div>

            <div class="teoria">
                <h4>Formateo de Fechas con strftime</h4>
                <table class="comparacion-tabla">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Significado</th>
                            <th>Ejemplo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>%Y</code></td>
                            <td>Año completo</td>
                            <td>2024</td>
                        </tr>
                        <tr>
                            <td><code>%m</code></td>
                            <td>Mes (01-12)</td>
                            <td>11</td>
                        </tr>
                        <tr>
                            <td><code>%d</code></td>
                            <td>Día (01-31)</td>
                            <td>15</td>
                        </tr>
                        <tr>
                            <td><code>%H</code></td>
                            <td>Hora (00-23)</td>
                            <td>14</td>
                        </tr>
                        <tr>
                            <td><code>%M</code></td>
                            <td>Minutos (00-59)</td>
                            <td>30</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="slide">
            <h2>🚀 Ejercicios de Práctica</h2>

            <div class="ejercicio-propuesto">
                <h4>📌 Ejercicio 1: Diario con Categorías</h4>
                <p>Mejora el diario agregando categorías a las entradas:</p>
                <ul>
                    <li>Personal, Trabajo, Ideas, Sueños, etc.</li>
                    <li>Filtrar entradas por categoría</li>
                    <li>Estadísticas por categoría</li>
                    <li>Usar colores diferentes para cada categoría</li>
                </ul>
            </div>

            <div class="ejercicio-propuesto">
                <h4>📌 Ejercicio 2: Diario Multimedia</h4>
                <p>Expande el diario para incluir más tipos de contenido:</p>
                <ul>
                    <li>Enlaces a fotos (guardar rutas)</li>
                    <li>Estado de ánimo con emojis</li>
                    <li>Clima del día</li>
                    <li>Ubicación</li>
                    <li>Etiquetas (tags) para organizar</li>
                </ul>
            </div>

            <div class="ejercicio-propuesto">
                <h4>📌 Ejercicio 3: Sistema de Backup</h4>
                <p>Implementa seguridad para el diario:</p>
                <ul>
                    <li>Backup automático diario</li>
                    <li>Encriptación básica con contraseña</li>
                    <li>Recuperar entradas eliminadas</li>
                    <li>Historial de cambios</li>
                </ul>
            </div>

            <div class="ejercicio-propuesto">
                <h4>📌 Desafío Extra: Blog Personal</h4>
                <p>Convierte el diario en un generador de blog:</p>
                <ul>
                    <li>Exportar a HTML con formato bonito</li>
                    <li>Generar índice de entradas</li>
                    <li>Crear páginas mensuales</li>
                    <li>Sistema de comentarios</li>
                    <li>RSS feed generator</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h2>⚠️ Consideraciones de Seguridad</h2>
            
            <div class="warning">
                <strong>Archivos y Seguridad:</strong>
                <ul>
                    <li>❌ Nunca guardes contraseñas en texto plano</li>
                    <li>❌ Cuidado con rutas de archivos de usuarios</li>
                    <li>❌ No ejecutes código desde archivos externos</li>
                    <li>❌ Valida siempre los nombres de archivo</li>
                </ul>
            </div>

            <div class="teoria">
                <h4>Buenas Prácticas con Archivos</h4>
                <ul>
                    <li>✅ Siempre usa <code>with</code> para abrir archivos</li>
                    <li>✅ Especifica encoding explícitamente</li>
                    <li>✅ Maneja excepciones apropiadamente</li>
                    <li>✅ Valida datos antes de escribir</li>
                    <li>✅ Crea backups de archivos importantes</li>
                    <li>✅ Usa rutas relativas cuando sea posible</li>
                </ul>
            </div>

            <div class="tip">
                <strong>Consejo Pro:</strong> Para aplicaciones más complejas, considera usar bases de datos (SQLite) en lugar de archivos de texto. Python incluye SQLite por defecto y es perfecto para aplicaciones personales.
            </div>
        </div>

        <div class="slide">
            <h2>🎓 Resumen y Conceptos Clave</h2>
            
            <div class="teoria">
                <h4>Lo que aprendiste en este ejercicio:</h4>
                <ul>
                    <li>✅ Abrir archivos con <code>open()</code></li>
                    <li>✅ Usar <code>with</code> para manejo seguro de archivos</li>
                    <li>✅ Diferentes modos de apertura (r, w, a)</li>
                    <li>✅ Leer archivos completos y por líneas</li>
                    <li>✅ Escribir y agregar contenido a archivos</li>
                    <li>✅ Manejar excepciones de archivos</li>
                    <li>✅ Trabajar con fechas usando datetime</li>
                    <li>✅ Importancia del encoding UTF-8</li>
                </ul>
            </div>

            <div class="teoria">
                <h4>Aplicaciones del Manejo de Archivos</h4>
                <p>El manejo de archivos es fundamental para:</p>
                <ul>
                    <li>📊 <strong>Análisis de datos</strong> (CSV, logs)</li>
                    <li>⚙️ <strong>Configuración de aplicaciones</strong></li>
                    <li>📝 <strong>Generación de reportes</strong></li>
                    <li>🎮 <strong>Guardar progreso en juegos</strong></li>
                    <li>🌐 <strong>Procesamiento de páginas web</strong></li>
                    <li>🤖 <strong>Machine Learning</strong> (datasets)</li>
                </ul>
            </div>

            <div class="tip">
                <strong>Próximo paso:</strong> Ahora que sabes manejar archivos de texto, el siguiente paso es aprender a trabajar con otros formatos como CSV, JSON y XML. También exploraremos cómo crear aplicaciones con interfaces gráficas que faciliten la interacción con archivos.
            </div>
        </div>
    </div>
</body>
</html>